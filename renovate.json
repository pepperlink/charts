{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":semanticCommits",
    ":disableMajorUpdates"
  ],

  "assignees": ["@cathelijne"],

  "vulnerabilityAlerts": {
    "automerge": true
  },

  "gitIgnoredAuthors": ["github-actions[bot]", "actions-user"],

  "major": {
    "dependencyDashboardApproval": true,
    "automerge": false
  },

  "platformAutomerge": true,

  "customManagers": [
    {
      "customType": "regex",
      "description": "Update docker image references in Chart.yaml",
      "datasourceTemplate": "docker",
      "fileMatch": ["(^|/)Chart\\.yaml$"],
      "matchStrings": [ "#\\s*?renovate:\\s*?image=(?<depName>\\S*?)\\s*?appVersion:\\s*?(?:'|\")(?<currentValue>\\S*?)(?:'|\")" ]
    }
  ],

  "packageRules": [
    {
      "description": "Example rule for alpha releases",
      "matchPackageNames": ["ghcr.io/example/package"],
      "versioning": "regex:(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)-alpha-(?<build>\\d+)",
      "autoApprove": true,
      "automerge": true
    },
    {
      "description": "Group dependencies from Helm charts",
      "matchFileNames": ["**/Chart.yaml"],
      "groupName": "Helm Charts",
      "groupSlug": "helmcharts",
      "matchUpdateTypes": ["minor", "patch", "pin", "digest"],
      "autoApprove": true,
      "automerge": true
    }
  ]
}
